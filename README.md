# Are You OK? (areuok) - å¼€æºç‰ˆæ­»äº†ä¹ˆ

[English](./README.en.md) | ç®€ä½“ä¸­æ–‡

ä¸€æ¬¾ç®€æ´æ¸…çˆ½çš„è·¨å¹³å°ç­¾åˆ°åº”ç”¨ï¼Œæ”¯æŒè¿ç»­ç­¾åˆ°ç»Ÿè®¡ã€å¤šè®¾å¤‡ç›‘ç£ã€æ¯æ—¥ä¸€è¨€å’Œé‚®ä»¶é€šçŸ¥åŠŸèƒ½ã€‚

> ğŸ¯ **areuok** æ˜¯ã€Œæ­»äº†ä¹ˆã€ï¼ˆç°å·²æ›´åä¸º DAMUMUï¼‰App çš„å¼€æºæ›¿ä»£ç‰ˆæœ¬ï¼Œæä¾›å®Œæ•´çš„æœ¬åœ°ç¦»çº¿åŠŸèƒ½ï¼Œå¹¶å¯é€‰æ‹©æ¥å…¥äº‘ç«¯æœåŠ¡å®ç°å¤šè®¾å¤‡åŒæ­¥ä¸ç›‘ç£ã€‚

## åŠŸèƒ½ç‰¹æ€§

- âœ¨ **æ¸…çˆ½ç•Œé¢** - ç°ä»£åŒ–è®¾è®¡ï¼ŒæŸ”å’ŒåŠ¨ç”»ï¼Œæš—è‰²æ¨¡å¼æ”¯æŒ
- ğŸ”¥ **ç­¾åˆ°ç»Ÿè®¡** - è‡ªåŠ¨è®¡ç®—è¿ç»­ç­¾åˆ°å¤©æ•°
- ğŸ’¬ **æ¯æ—¥ä¸€è¨€** - ç­¾åˆ°åå±•ç¤ºåŠ±å¿—è¯­å½•
- ğŸ“§ **é‚®ä»¶é€šçŸ¥** - ç­¾åˆ°æˆåŠŸåå‘é€é‚®ä»¶åˆ°æŒ‡å®šé‚®ç®±
- ğŸ“± **è·¨å¹³å°æ”¯æŒ** - æ”¯æŒ macOSã€Windowsã€Linuxã€Androidã€iOS
- ğŸ” **è®¾å¤‡ç»‘å®š** - è®¾å¤‡æ˜µç§°ä¸ IMEI ç»‘å®šï¼Œæ”¯æŒè®¾å¤‡æ¢å¤
- ğŸ·ï¸ **æ˜µç§°ç®¡ç†** - æ˜µç§°å…¨å±€å”¯ä¸€ï¼Œ15å¤©å†…ä»…å¯ä¿®æ”¹ä¸€æ¬¡
- ğŸ‘€ **å¤šè®¾å¤‡ç›‘ç£** - è®¾å¤‡é—´å¯äº’ç›¸ç›‘ç£ç­¾åˆ°çŠ¶æ€ï¼ˆéœ€è¦äº‘ç«¯æœåŠ¡ï¼‰
- â˜ï¸ **æœ¬åœ°+äº‘ç«¯** - æ”¯æŒçº¯ç¦»çº¿ä½¿ç”¨ï¼Œä¹Ÿå¯æ¥å…¥äº‘ç«¯æœåŠ¡åŒæ­¥æ•°æ®

## é¡¹ç›®æ¶æ„

æœ¬é¡¹ç›®é‡‡ç”¨ **æœ¬åœ°å®¢æˆ·ç«¯ + å¯é€‰äº‘ç«¯æœåŠ¡** çš„æ¶æ„ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    areuok å®¢æˆ·ç«¯                             â”‚
â”‚         (Tauri 2 + SvelteKit + Rust)                        â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   macOS     â”‚    â”‚   Windows   â”‚    â”‚   Linux     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚   Android   â”‚    â”‚     iOS     â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ HTTP API (å¯é€‰)
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 areuok-server äº‘ç«¯æœåŠ¡                       â”‚
â”‚              (Rust + Axum + PostgreSQL)                     â”‚
â”‚                                                             â”‚
â”‚  â€¢ è®¾å¤‡æ³¨å†Œä¸ç®¡ç†          â€¢ ç­¾åˆ°æ•°æ®åŒæ­¥                     â”‚
â”‚  â€¢ å¤šè®¾å¤‡ç›‘ç£å…³ç³»          â€¢ è¿ç»­ç­¾åˆ°ç»Ÿè®¡                     â”‚
â”‚  â€¢ IMEI è®¾å¤‡ç»‘å®š           â€¢ RESTful API                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä½¿ç”¨æ¨¡å¼

| æ¨¡å¼ | æè¿° | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| **çº¯ç¦»çº¿æ¨¡å¼** | æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°ï¼Œæ— éœ€è”ç½‘ | ä¸ªäººä½¿ç”¨ï¼Œéšç§ä¼˜å…ˆ |
| **äº‘ç«¯åŒæ­¥æ¨¡å¼** | æ¥å…¥äº‘ç«¯æœåŠ¡ï¼Œå¤šè®¾å¤‡æ•°æ®åŒæ­¥ | å¤šè®¾å¤‡ä½¿ç”¨ï¼Œéœ€è¦ç›‘ç£åŠŸèƒ½ |

### ç›¸å…³ä»“åº“

| ä»“åº“ | æè¿° |
|------|------|
| [areuok](https://github.com/nicepeng/areuok) | ğŸ“± å®¢æˆ·ç«¯åº”ç”¨ï¼ˆæœ¬ä»“åº“ï¼‰ |
| [areuok-server](https://github.com/nicepeng/areuok-server) | â˜ï¸ äº‘ç«¯æœåŠ¡ç«¯ |

## äº‘ç«¯æœåŠ¡éƒ¨ç½²

å¦‚éœ€ä½¿ç”¨å¤šè®¾å¤‡ç›‘ç£åŠŸèƒ½ï¼Œéœ€è¦è‡ªè¡Œéƒ¨ç½² areuok-serverï¼š

### å¿«é€Ÿéƒ¨ç½²ï¼ˆDockerï¼‰

```bash
# å…‹éš†æœåŠ¡ç«¯ä»“åº“
git clone https://github.com/nicepeng/areuok-server.git
cd areuok-server

# ä¸€é”®å¯åŠ¨ï¼ˆåŒ…å« PostgreSQL + æœåŠ¡ç«¯ï¼‰
./start-docker.sh

# æœåŠ¡å°†è¿è¡Œåœ¨ http://localhost:3000
```

### æœåŠ¡ç«¯ API æ¦‚è§ˆ

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/devices/register` | POST | æ³¨å†Œæ–°è®¾å¤‡ |
| `/devices/{id}` | GET | è·å–è®¾å¤‡ä¿¡æ¯ |
| `/devices/{id}/signin` | POST | è®¾å¤‡ç­¾åˆ° |
| `/devices/{id}/status` | GET | è·å–ç­¾åˆ°çŠ¶æ€ |
| `/supervision/request` | POST | å‘èµ·ç›‘ç£è¯·æ±‚ |
| `/supervision/accept` | POST | æ¥å—ç›‘ç£è¯·æ±‚ |
| `/supervision/list/{id}` | GET | è·å–ç›‘ç£å…³ç³»åˆ—è¡¨ |

è¯¦ç»† API æ–‡æ¡£è¯·å‚é˜… [areuok-server æ–‡æ¡£](https://github.com/nicepeng/areuok-server#api-documentation)ã€‚

### å®¢æˆ·ç«¯é…ç½®äº‘ç«¯æœåŠ¡

åœ¨å®¢æˆ·ç«¯åº”ç”¨ä¸­é…ç½®æœåŠ¡ç«¯åœ°å€ï¼š

1. æ‰“å¼€åº”ç”¨è®¾ç½®
2. æ‰¾åˆ°ã€Œäº‘ç«¯æœåŠ¡ã€é…ç½®é¡¹
3. å¡«å†™æœåŠ¡ç«¯åœ°å€ï¼ˆå¦‚ï¼š`https://your-server.com`ï¼‰
4. ä¿å­˜å¹¶æµ‹è¯•è¿æ¥

## é…ç½®è¯´æ˜

### 1. é…ç½®ä¸€è¨€API

åœ¨ `src-tauri/config.toml` æ–‡ä»¶ä¸­é…ç½®ä¸€è¨€APIï¼š

```toml
[hitokoto]
id = "ä½ çš„ID"
key = "ä½ çš„KEY"
```

è·å–APIå‡­è¯ï¼šè®¿é—® [https://cn.apihz.cn](https://cn.apihz.cn) æ³¨å†Œè·å–IDå’ŒKEY

### 2. é…ç½®é‚®ä»¶é€šçŸ¥

é¦–æ¬¡å¯åŠ¨åº”ç”¨åï¼š
1. ç‚¹å‡»å³ä¸Šè§’çš„è®¾ç½®å›¾æ ‡ âš™ï¸
2. å¯ç”¨é‚®ä»¶é€šçŸ¥å¼€å…³
3. å¡«å†™SMTPé‚®ä»¶é…ç½®ï¼š
   - **æ”¶ä»¶äººé‚®ç®±** - æ¥æ”¶é€šçŸ¥çš„é‚®ç®±åœ°å€
   - **SMTPæœåŠ¡å™¨** - é‚®ä»¶æœåŠ¡å™¨åœ°å€ï¼ˆå¦‚ï¼šsmtp.gmail.comï¼‰
   - **SMTPç«¯å£** - é‚®ä»¶æœåŠ¡å™¨ç«¯å£ï¼ˆå¦‚ï¼š587ï¼‰
   - **SMTPç”¨æˆ·å** - é‚®ä»¶å‘é€è´¦æˆ·
   - **SMTPå¯†ç ** - é‚®ä»¶å‘é€å¯†ç ï¼ˆé€šå¸¸éœ€è¦åº”ç”¨ä¸“ç”¨å¯†ç ï¼‰
   - **å‘ä»¶äººé‚®ç®±** - æ˜¾ç¤ºåœ¨é‚®ä»¶ä¸­çš„å‘ä»¶äººåœ°å€
4. ç‚¹å‡»"ä¿å­˜é…ç½®"

### SMTPé…ç½®å‚è€ƒ

**Gmail:**
- æœåŠ¡å™¨ï¼šsmtp.gmail.com
- ç«¯å£ï¼š587
- éœ€è¦ä½¿ç”¨åº”ç”¨ä¸“ç”¨å¯†ç 

**QQé‚®ç®±:**
- æœåŠ¡å™¨ï¼šsmtp.qq.com
- ç«¯å£ï¼š587
- éœ€è¦å¼€å¯SMTPæœåŠ¡å¹¶è·å–æˆæƒç 

**163é‚®ç®±:**
- æœåŠ¡å™¨ï¼šsmtp.163.com
- ç«¯å£ï¼š25æˆ–465

## å¼€å‘

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- Rust 1.70+
- npm æˆ– pnpm

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run tauri dev
```

### æ„å»º

```bash
npm run build
```

## æŠ€æœ¯æ ˆ

- **å‰ç«¯**: Svelte 5 + SvelteKit + TypeScript
- **åç«¯**: Tauri 2 + Rust
- **å­˜å‚¨**: æ–‡ä»¶ç³»ç»Ÿï¼ˆ~/.config/areuok/ï¼‰
- **é‚®ä»¶**: lettre 0.11
- **HTTP**: reqwest 0.12

## æ•°æ®å­˜å‚¨

åº”ç”¨æ•°æ®å­˜å‚¨åœ¨ç³»ç»Ÿé…ç½®ç›®å½•ï¼š
- **macOS**: `~/Library/Application Support/areuok/`
- **Linux**: `~/.config/areuok/`
- **Windows**: `%APPDATA%\areuok\`

### å­˜å‚¨æ•°æ®ç»“æ„

```json
{
  "device": {
    "device_id": "uuid",
    "device_name": "è®¾å¤‡åç§°",
    "imei": "è®¾å¤‡IMEIï¼ˆå¯é€‰ï¼‰",
    "mode": "signin|supervisor",
    "created_at": "åˆ›å»ºæ—¶é—´"
  },
  "supervision_requests": [...],
  "supervision_relationships": [...]
}
```

### æœ¬åœ°å­˜å‚¨

æµè§ˆå™¨ localStorage å­˜å‚¨ï¼š
- `areuok_device_id` - è®¾å¤‡ID
- `areuok_device_name` - è®¾å¤‡æ˜µç§°
- `areuok_device_mode` - è®¾å¤‡æ¨¡å¼
- `areuok_device_imei` - è®¾å¤‡IMEI
- `areuok_last_name_update` - æ˜µç§°æœ€åä¿®æ”¹æ—¶é—´ï¼ˆç”¨äº15å¤©é™åˆ¶ï¼‰
- `locale` - ç•Œé¢è¯­è¨€è®¾ç½®

## è¿è¡Œé¡¹ç›®

```bash
# å¼€å‘æ¨¡å¼
npm run tauri dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
```

## IDEæ¨è

[VS Code](https://code.visualstudio.com/) + [Svelte](https://marketplace.visualstudio.com/items?itemName=svelte.svelte-vscode) + [Tauri](https://marketplace.visualstudio.com/items?itemName=tauri-apps.tauri-vscode) + [rust-analyzer](https://marketplace.visualstudio.com/items?itemName=rust-lang.rust-analyzer)

## æ–‡æ¡£

- [è´¡çŒ®æŒ‡å—](./CONTRIBUTING.md)
- [æ›´æ–°æ—¥å¿—](./docs/CHANGELOG.md)
- [è®¸å¯è¯](./LICENSE)
- [ç§»åŠ¨ç«¯æ„å»ºæŒ‡å—](./docs/MOBILE_BUILD_GUIDE.md)
- [ä»£ç è§„èŒƒ](./docs/CODING_STANDARDS.md)

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [GNU General Public License v2.0 (GPLv2)](./LICENSE) å¼€æºåè®®ã€‚

## è‡´è°¢

### çµæ„Ÿæ¥æº

æœ¬é¡¹ç›®æ˜¯ã€Œæ­»äº†ä¹ˆã€ï¼ˆç°å·²æ›´åä¸º [DAMUMU](https://www.damumu.fun/)ï¼‰App çš„å¼€æºæ›¿ä»£ç‰ˆæœ¬ã€‚åœ¨ä¸­æ–‡ç¤¾åŒºï¼Œã€Œæ­»äº†ä¹ˆã€è¿™ä¸ªåç§°æ›´ä¸ºäººæ‰€çŸ¥ã€‚æ„Ÿè°¢åŸä½œè€…çš„åˆ›æ„çµæ„Ÿï¼

### æŠ€æœ¯æ ˆè‡´è°¢

æœ¬é¡¹ç›®çš„å®ç°ç¦»ä¸å¼€ä»¥ä¸‹ä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼š

**æ ¸å¿ƒæ¡†æ¶**
- [Tauri](https://tauri.app/) - ä½¿ç”¨ Web æŠ€æœ¯æ„å»ºæ›´å°ã€æ›´å¿«ã€æ›´å®‰å…¨çš„æ¡Œé¢å’Œç§»åŠ¨åº”ç”¨
- [Svelte](https://svelte.dev/) & [SvelteKit](https://kit.svelte.dev/) - ç¼–è¯‘æ—¶å‰ç«¯æ¡†æ¶
- [Rust](https://www.rust-lang.org/) - å®‰å…¨ã€å¹¶å‘ã€é«˜æ€§èƒ½çš„ç³»ç»Ÿç¼–ç¨‹è¯­è¨€

**Rust ç”Ÿæ€**
- [lettre](https://github.com/lettre/lettre) - Rust é‚®ä»¶å‘é€åº“
- [reqwest](https://github.com/seanmonstar/reqwest) - Rust HTTP å®¢æˆ·ç«¯
- [serde](https://serde.rs/) - Rust åºåˆ—åŒ–/ååºåˆ—åŒ–æ¡†æ¶
- [chrono](https://github.com/chronotope/chrono) - Rust æ—¥æœŸæ—¶é—´åº“

**å‰ç«¯å·¥å…·**
- [TypeScript](https://www.typescriptlang.org/) - JavaScript çš„è¶…é›†
- [svelte-i18n](https://github.com/kaisermann/svelte-i18n) - Svelte å›½é™…åŒ–åº“
- [Vite](https://vitejs.dev/) - ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·

**å¤–éƒ¨æœåŠ¡**
- [ä¸€è¨€ API](https://hitokoto.cn/) - æä¾›æ¯æ—¥åŠ±å¿—è¯­å½•

æ„Ÿè°¢æ‰€æœ‰å¼€æºè´¡çŒ®è€…çš„è¾›å‹¤ä»˜å‡ºï¼

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼è¯·å…ˆé˜…è¯» [è´¡çŒ®æŒ‡å—](./CONTRIBUTING.md)ã€‚
